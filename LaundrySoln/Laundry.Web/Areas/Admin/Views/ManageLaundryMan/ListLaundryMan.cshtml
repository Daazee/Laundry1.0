@model IEnumerable<Laundry.Model.LaundryMan>

@{
    ViewBag.Title = "ListLaundryMan";
    Layout = "~/Views/Shared/_LayoutAdmin.cshtml";
}

@*<h2>Manage La</h2>*@
<br/>
<div class="container">
    <div class="table-responsive">
        <table class="table table-striped table-bordered table-hover">
            <thead style="color:blueviolet;">
                <tr><td colspan="8">List of regsitered LaundryMan(Men)</td></tr>
                <tr>
                    <td>
                        @if (ViewBag.status == "L")
                        {
                            @*@Html.ActionLink("All", "ListLaundryMan", new { Controller = "Registration", Area = "Security", status = "L" })*@
                            <b>@Html.ActionLink("All", "ListLaundryMan", new { status = "L" })</b>
                        }
                        else
                        {
                            @Html.ActionLink("All", "ListLaundryMan", new { status = "L" })
                        }

                    </td>
                    <td>
                        @if (ViewBag.status == "P")
                        {
                            <b>@Html.ActionLink("Pending", "ListLaundryMan", new { status = "P" })</b>
                        }
                        else
                        {
                            @Html.ActionLink("Pending", "ListLaundryMan", new { status = "P" })
                        }

                    </td>
                    <td>
                        @if (ViewBag.status == "A")
                        {
                            <b> @Html.ActionLink("Approved", "ListLaundryMan", new { status = "A" })</b>
                        }
                        else
                        {
                            @Html.ActionLink("Approved", "ListLaundryMan", new { status = "A" })
                        }
                    </td>
                    <td>
                        @if (ViewBag.status == "R")
                        {
                            <b> @Html.ActionLink("Rejected", "ListLaundryMan", new { status = "R" })</b>
                        }
                        else
                        {
                            @Html.ActionLink("Rejected", "ListLaundryMan", new { status = "R" })
                        }
                    </td>
                    <th colspan="5"></th>
            </thead>
            <tbody>
                </tr>
                <tr>
                    <th>
                        Approve|Reject
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Surname)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Othername)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Sex)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.PhoneNumber)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Address)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Username)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Reg_Status)
                    </th>
                </tr>

                @foreach (var item in Model)
                {
                    <tr>
                        <td>
                            @Html.ActionLink("Approve", "UpdateStatus", new { username = item.Username, status = "A" }, new { onclick = "return confirmStatusUpdate()" })|
                            @Html.ActionLink("Reject", "UpdateStatus", new { username = item.Username, status = "R" }, new { onclick = "return confirmStatusUpdate()" })
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Surname)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Othername)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Sex)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.PhoneNumber)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Address)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Username)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Reg_Status)
                        </td>
                    </tr>
                }
            </tbody>

        </table>
    </div>
</div>
@section Scripts{
    <script>
        function confirmStatusUpdate()
        {
            confirm("Are you sure you want to update status");
        }


    </script>
    
    }